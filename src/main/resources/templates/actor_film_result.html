<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.js"></script>
  <title>Result - Actor / Films</title>
</head>
<body>

<h2 th:text="${search_keyword}"></h2>
<script th:inline="javascript">

        $.ajax({
            url: 'http://localhost:8080/api/films/actorid/' + [[${actor_id}]],
            type: 'GET',
            success: function(data, textStatus) {
                console.log('data');
                console.log(data);

                const jsonInfo = JSON.stringify(data);

                const parsedInfo = JSON.parse(jsonInfo);

                const filmInfo = parsedInfo._embedded.films;

                for(var i=0; i < filmInfo.length; i++) {
                    $('#appendarea').append("<tr><th scope='col'>" + i + "</th>"
                                           + "<td>" + filmInfo[i].title + "</td>"
                                           + "<td>대여</td></tr>");

                }


            }
        })
    </script>
<h3 th:text="'배우 ID : ' + ${actor_id}"></h3>

<table class = "table table-striped table-hover" style="width: 60%; margin-left: auto; margin-right: auto;" id="appendarea">


  <tr>
    <th scope="col">#</th>
    <th scope="col">작품명</th>
    <th scope="col">대여여부</th>
  </tr>


</table>

</body>
</html>